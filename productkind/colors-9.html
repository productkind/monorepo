<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Colors</title>
  <style>
    .color-card {
      border: 2px solid black;
      margin: 6px;
    }

    .color-box {
      width: 96px;
      height: 96px;
      margin: 6px;
    }

    .color-hue {
      display: flex;
      flex-direction: row;
      gap: 10px;
    }

    .color-main {
      outline: 2px solid black;
      outline-offset: 2px;
    }

    .color-code {
      font-family: monospace;
      font-size: 8px;
      padding: 4px;
      display: block;
      text-align: center;
    }
  </style>
  <script src="https://github.com/hsluv/hsluv-javascript/releases/download/v1.0.1/hsluv-1.0.1.min.js"></script>
</head>
<body>
  <h1>Colors</h1>
  <div class="colors"></div>
  <script>
    const SATURATION_BASE = 100
    const SATURATION_GREY = 5
    const HUE_BASE = 280
    const COLOR_COUNT = 9;
    const BASE_LIGHTNESS = 53;
    const LIGHTNESS_STEP = 10;
    const LIGHTNESS_VARIANT_COUNT = 5;

    const getLightnessVariants = (baseLightness, step, count) => {
      return Array.from({ length: count }, (_, i) => baseLightness + (i + 1) * step);
    };

    const lightnessVariants = [
      ...getLightnessVariants(BASE_LIGHTNESS, LIGHTNESS_STEP, LIGHTNESS_VARIANT_COUNT).reverse(),
      BASE_LIGHTNESS,
      ...getLightnessVariants(BASE_LIGHTNESS, -LIGHTNESS_STEP, LIGHTNESS_VARIANT_COUNT)
    ]

    lightnessVariants[0] = 97;


    const root = document.querySelector('.colors');
    const createColorHue = (hue, saturation) => {
      return `
        <div class="color-hue">
          ${createColorBoxes(hue, saturation)}
        </div>`;
    };
    const createColorBoxes = (hue, saturation) => {
      return lightnessVariants.map(lightness => {
        const color = `hsluv<br>(${hue}, ${saturation}%, ${lightness}%)`;
        const conv = new Hsluv();
        conv.hsluv_h = hue;
        conv.hsluv_s = saturation;
        conv.hsluv_l = lightness;
        conv.hsluvToRgb();
        conv.hsluvToHex();
        const isMain = lightness === BASE_LIGHTNESS;
        return `
          <div class="color-card${isMain ? ' color-main' : ''}">
            <div class="color-box" style="background-color: ${conv.hex};"></div>
            <code class="color-code">${color}</code>
            <code class="color-code">${conv.hex}</code>
          </div>
        `;
      }).join('');
    };

    const hues = Array.from({ length: COLOR_COUNT }, (_, i) => {
      const hueStep = 360 / COLOR_COUNT;
      return (HUE_BASE + i * hueStep) % 360;
    });

    hues.forEach(hue => {
      root.innerHTML += createColorHue(hue, SATURATION_BASE);
    });
    root.innerHTML += createColorHue(HUE_BASE, SATURATION_GREY);
  </script>
</body>
</html>
